(function(){"use strict";var l={761:function(l,e,a){var n=a(963),t=a(826),i=(a(415),a(252)),s=a(262),r=a(577),u=a.p+"img/logo.414fee08.png",o=a(847);const c=["#000000","#343a40","#495057","#c92a2a","#a61e4d","#862e9c","#5f3dc4","#364fc7","#1864ab","#0b7285","#087f5b","#2b8a3e","#5c940d","#e67700","#d9480f"],d=["#ced4da","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"],p=["rgb(255, 255, 255)","rgb(248, 249, 250)","rgb(241, 243, 245)","rgb(255, 245, 245)","rgb(255, 240, 246)","rgb(248, 240, 252)","rgb(243, 240, 255)","rgb(237, 242, 255)","rgb(231, 245, 255)","rgb(227, 250, 252)","rgb(230, 252, 245)","rgb(235, 251, 238)","rgb(244, 252, 227)","rgb(255, 249, 219)","rgb(255, 244, 230)"],b=([10,12,16,18,24,32,48].map((l=>({name:l,value:l}))),{rectangle:'<i class="bi bi-square"></i>',diamond:'<i class="bi bi-diamond"></i>',triangle:'<i class="bi bi-triangle"></i>',circle:'<i class="bi bi-circle"></i>',line:'<i class="bi bi-slash-lg"></i>',arrow:'<i class="bi bi-arrow-up-right"></i>',text:'<i class="bi bi-fonts"></i>',image:'<i class="bi bi-card-image"></i>'}),f=[{name:"删除元素",value:"激活元素+delete键"},{name:"聚焦元素",value:"激活元素+F键"},{name:"拖动画布",value:"🖱️中键"},{name:"缩放画布",value:"ctrl+🖱️滚轮"},{name:"缩放画布",value:"阅览模式+🖱️滚轮"},{name:"旋转画布",value:"shift+🖱️滚轮"},{name:"拖动画布",value:"阅览模式+🖱️移动"}],v=["rectangle","triangle","diamond","circle"],w=["line","arrow"],_=["text","note"],m={class:"colorPickerContainer"},y={class:"content"},g={class:"colorList"},k=["onClick"],h={key:0},W={key:1};Boolean;var x=a(744);const S=(l,e)=>l.toString()===e.toString(),U=l=>((0,i.dD)("data-v-64add28d"),l=l(),(0,i.Cn)(),l),C={key:0,class:"headerLeft bar bar_row"},H=U((()=>(0,i._)("i",{class:"bi bi-chevron-left"},null,-1))),F=[H],V=U((()=>(0,i._)("img",{src:u,width:"30",style:{padding:"5px"}},null,-1))),D=["innerHTML"],T=U((()=>(0,i._)("i",{class:"bi bi-gear"},null,-1))),L=[T],z=U((()=>(0,i._)("i",{class:"bi bi-file-earmark-arrow-up"},null,-1))),M=[z],O=U((()=>(0,i._)("span",{class:"btn"},[(0,i._)("i",{class:"bi bi-file-earmark-arrow-down"})],-1))),j={key:1,class:"headerRight bar"},A=U((()=>(0,i._)("span",{class:"btn helpB"},[(0,i._)("i",{class:"bi bi-keyboard"})],-1))),q=U((()=>(0,i._)("div",null,null,-1))),P={key:2,class:"propsbar bar"},B=U((()=>(0,i._)("i",{class:"bi bi-grip-vertical"},null,-1))),I=["innerHTML"],Y={class:"propsGroup"},E=U((()=>(0,i._)("span",{class:"separator"},null,-1))),G={key:0,class:"bi bi-circle-fill"},X={key:1,class:"bi bi-x-circle",style:{color:"black"}},Z={key:0,class:"bi bi-record-circle-fill"},J={key:1,class:"bi bi-x-circle",style:{color:"black"}},K={class:"propsGroup"},N=U((()=>(0,i._)("span",{class:"separator"},null,-1))),R=U((()=>(0,i._)("span",{class:"dropdown",style:{background:"transparent"}}," 思源黑体 ",-1))),Q={class:"dropdown",style:{background:"transparent","min-width":"40px"}},$=U((()=>(0,i._)("i",{class:"bi bi-caret-down-fill"},null,-1))),ll=U((()=>(0,i._)("span",{class:"separator"},null,-1))),el={class:"btn"},al=U((()=>(0,i._)("i",{class:"bi bi-text-center"},null,-1))),nl=U((()=>(0,i._)("span",{class:"btn"},[(0,i._)("i",{class:"bi bi-text-left"})],-1))),tl=U((()=>(0,i._)("span",{class:"btn"},[(0,i._)("i",{class:"bi bi-text-center"})],-1))),il=U((()=>(0,i._)("span",{class:"btn"},[(0,i._)("i",{class:"bi bi-text-right"})],-1))),sl=U((()=>(0,i._)("span",{class:"btn"},[(0,i._)("i",{class:"bi bi-type-bold"})],-1))),rl=U((()=>(0,i._)("span",{class:"btn"},[(0,i._)("i",{class:"bi bi-type-italic"})],-1))),ul={class:"propsGroup"},ol=U((()=>(0,i._)("span",{class:"separator"},null,-1))),cl={class:"dropdown"},dl=U((()=>(0,i._)("i",{class:"bi bi-caret-down-fill"},null,-1))),pl={class:"dropdown"},bl=["innerHTML"],fl=U((()=>(0,i._)("i",{class:"bi bi-caret-down-fill"},null,-1))),vl={class:"dropdown"},wl=["innerHTML"],_l=U((()=>(0,i._)("i",{class:"bi bi-caret-down-fill"},null,-1))),ml={key:3,class:"toolbar bar bar_column"},yl=U((()=>(0,i._)("i",{class:"bi bi-cursor"},null,-1))),gl=[yl],kl=["onClick","innerHTML"],hl={class:"footerLeft"},Wl={class:"no-cursor"},xl={class:"no-cursor"},Sl={class:"no-cursor"},Ul=U((()=>(0,i._)("span",{style:{margin:"0px"}},[(0,i._)("sup",null,"o")],-1))),Cl={class:"footerRight bar"},Hl=U((()=>(0,i._)("i",{class:"bi bi-geo"},null,-1))),Fl=[Hl],Vl=U((()=>(0,i._)("i",{class:"bi bi-eye"},null,-1))),Dl=[Vl],Tl=U((()=>(0,i._)("i",{class:"bi bi-trash3"},null,-1))),Ll=[Tl],zl=U((()=>(0,i._)("i",{class:"bi bi-fullscreen"},null,-1))),Ml=[zl];var Ol={__name:"App",setup(l){const e=(0,s.iH)(null),a=(0,s.iH)(null);let t=null;const u=(0,s.iH)(null),c=(0,s.iH)("未命名"),p=(0,s.iH)("selection"),m=(0,i.Fl)((()=>"readonly"===p.value)),y=(0,s.iH)(null),g=(0,s.iH)(null),k=(0,s.qj)({x:0,y:0}),h=(0,s.iH)(100),W=(0,s.iH)(100),x=(0,s.iH)(null),U=(0,i.Fl)((()=>{if(x.value)return w.includes(x.value.type)})),H=(0,i.Fl)((()=>{if(x.value)return _.includes(x.value.type)})),T=((0,i.Fl)((()=>{if(x.value)return v.includes(x.value.type)})),(0,i.Fl)((()=>x.value?.style.fillStyle))),z=(0,i.Fl)((()=>"transparent"===x.value?.style.fillStyle||/rgba\(\d*, \d*, \d*, 0\)/.test(x.value?.style.fillStyle))),yl=(0,i.Fl)((()=>x.value?.style.strokeStyle)),Hl=(0,i.Fl)((()=>"transparent"===x.value?.style.strokeStyle||/rgba\(\d*, \d*, \d*, 0\)/.test(x.value?.style.strokeStyle))),Vl=(0,i.Fl)((()=>{if(x.value){if(S(x.value.style.lineDash,[0,0]))return"——";if(S(x.value.style.lineDash,[3,3]))return"- - -";if(S(x.value.style.lineDash,[10,10]))return"— —"}}));function Tl(){document.fullscreenElement?(document.exitFullscreen(),g.value.innerHTML='<i class="bi bi-fullscreen"></i>'):(e.value.requestFullscreen(),g.value.innerHTML='<i class="bi bi-fullscreen-exit"></i>')}function zl(l){y.value=l,t.setWorkState("creating",{creatingType:y.value})}function Ol(l){x.value.style.lineDash=l}return(0,i.YP)(T,(()=>{null===T.value&&(x.value.style.fillStyle="transparent")})),(0,i.YP)(yl,(()=>{null===yl.value&&(x.value.style.strokeStyle="transparent")})),(0,i.bv)((()=>{t=new o.Z({container:a.value}),u.value=t.style,t.on("scrollChange",((l,e)=>{k.x=parseInt(l),k.y=parseInt(e)})),t.on("rotateChange",(l=>{W.value=l})),t.on("scaleChange",(l=>{h.value=parseInt(100*l)})),t.on("workStateChange",(l=>{"creating"!=l&&(y.value=null),p.value=l})),t.on("activeEChange",(l=>{x.value=l}))})),(l,o)=>{const v=(0,i.up)("el-color-picker"),w=(0,i.up)("el-dropdown-item"),_=(0,i.up)("el-dropdown-menu"),S=(0,i.up)("el-dropdown"),jl=(0,i.up)("el-table-column"),Al=(0,i.up)("el-table"),ql=(0,i.up)("el-popover"),Pl=(0,i.up)("el-slider");return(0,i.wg)(),(0,i.iD)("div",{class:"container",ref_key:"container",ref:e},[(0,i._)("div",{class:"canvasBox",ref_key:"box",ref:a},null,512),(0,i.Wm)(n.uT,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,[m.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("span",{class:"btn",onClick:o[0]||(o[0]=(...e)=>l.btn&&l.btn(...e))},F),V,(0,i._)("span",{class:"input_name",innerHTML:c.value,onBlur:o[1]||(o[1]=l=>{c.value=l.target.innerHTML}),onKeydown:o[2]||(o[2]=l=>{"enter"==l.key&&l.preventDefault()}),contenteditable:"true"},null,40,D),(0,i.Wm)(S,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[u.value?((0,i.wg)(),(0,i.j4)(v,{key:0,modelValue:u.value.backgroundColor,"onUpdate:modelValue":o[4]||(o[4]=l=>u.value.backgroundColor=l),size:"large",predefine:(0,s.SU)(d)},null,8,["modelValue","predefine"])):(0,i.kq)("",!0),(0,i.Uk)("设置背景 ")])),_:1}),(0,i.Wm)(w,{onClick:o[5]||(o[5]=l=>(0,s.SU)(t).switchGrid())},{default:(0,i.w5)((()=>[(0,i.Uk)("开启网格")])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",{class:"btn",onClick:o[3]||(o[3]=(...e)=>l.btn&&l.btn(...e))},L)])),_:1}),(0,i.Wm)(S,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{onClick:o[7]||(o[7]=l=>(0,s.SU)(t).importFile())},{default:(0,i.w5)((()=>[(0,i.Uk)("导入项目(.JSON)")])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",{class:"btn",onClick:o[6]||(o[6]=(...e)=>l.btn&&l.btn(...e))},M)])),_:1}),(0,i.Wm)(S,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{onClick:o[8]||(o[8]=l=>(0,s.SU)(t).exportFile(c.value))},{default:(0,i.w5)((()=>[(0,i.Uk)("导出为JSON")])),_:1}),(0,i.Wm)(w,{onClick:o[9]||(o[9]=l=>(0,s.SU)(t).exportPicture(c.value))},{default:(0,i.w5)((()=>[(0,i.Uk)("导出为图片")])),_:1})])),_:1})])),default:(0,i.w5)((()=>[O])),_:1})])),m.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",j,[(0,i.Wm)(ql,{placement:"right",width:"400",trigger:"click"},{reference:(0,i.w5)((()=>[A])),default:(0,i.w5)((()=>[(0,i.Wm)(Al,{data:(0,s.SU)(f),border:"",style:{width:"100%"},height:"500"},{default:(0,i.w5)((()=>[(0,i.Wm)(jl,{prop:"name",label:"功能"}),(0,i.Wm)(jl,{prop:"value",label:"快捷键"})])),_:1},8,["data"])])),_:1}),q])),!m.value&&x.value?((0,i.wg)(),(0,i.iD)("div",P,[B,(0,i._)("span",{class:"btn disable-hover",innerHTML:(0,s.SU)(b)[x.value.type]},null,8,I),(0,i._)("span",Y,[E,(0,i.wy)((0,i._)("span",{class:"btn",style:(0,r.j5)({color:T.value})},[(0,i.Wm)(v,{style:{opacity:"1"},modelValue:x.value.style.fillStyle,"onUpdate:modelValue":o[10]||(o[10]=l=>x.value.style.fillStyle=l),size:"large",predefine:(0,s.SU)(d)},null,8,["modelValue","predefine"]),z.value?((0,i.wg)(),(0,i.iD)("i",X)):((0,i.wg)(),(0,i.iD)("i",G))],4),[[n.F8,!U.value]]),(0,i.wy)((0,i._)("span",{class:"btn",style:(0,r.j5)({color:yl.value})},[(0,i.Wm)(v,{style:{opacity:"1"},modelValue:x.value.style.strokeStyle,"onUpdate:modelValue":o[11]||(o[11]=l=>x.value.style.strokeStyle=l),size:"large",predefine:(0,s.SU)(d)},null,8,["modelValue","predefine"]),Hl.value?((0,i.wg)(),(0,i.iD)("i",J)):((0,i.wg)(),(0,i.iD)("i",Z))],4),[[n.F8,!H.value]])]),(0,i.wy)((0,i._)("span",K,[N,(0,i.Wm)(S,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Action 1")])),_:1}),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Action 2")])),_:1}),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Action 3")])),_:1}),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Action 4")])),_:1}),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Action 5")])),_:1})])),_:1})])),default:(0,i.w5)((()=>[R])),_:1}),(0,i.Wm)(S,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,{style:{width:"260px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Pl,{modelValue:x.value.style.fontSize,"onUpdate:modelValue":o[12]||(o[12]=l=>x.value.style.fontSize=l),size:"small"},null,8,["modelValue"])])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",Q,[(0,i._)("span",null,(0,r.zw)(x.value.style.fontSize),1),$])])),_:1}),ll,(0,i._)("span",el,[(0,i.Wm)(ql,{width:300,"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px; padding: 20px;"},{reference:(0,i.w5)((()=>[al])),default:(0,i.w5)((()=>[nl,tl,il])),_:1})]),sl,rl],512),[[n.F8,H.value]]),(0,i._)("span",ul,[ol,(0,i.wy)((0,i.Wm)(S,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{onClick:o[13]||(o[13]=l=>Ol([0,0]))},{default:(0,i.w5)((()=>[(0,i.Uk)("——")])),_:1}),(0,i.Wm)(w,{onClick:o[14]||(o[14]=l=>Ol([10,10]))},{default:(0,i.w5)((()=>[(0,i.Uk)("— —")])),_:1}),(0,i.Wm)(w,{onClick:o[15]||(o[15]=l=>Ol([3,3]))},{default:(0,i.w5)((()=>[(0,i.Uk)("- - - -")])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",cl,[(0,i._)("span",null,(0,r.zw)(Vl.value),1),dl])])),_:1},512),[[n.F8,!H.value]]),(0,i.wy)((0,i.Wm)(S,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,{style:{width:"260px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Pl,{max:"100",step:"1",modelValue:x.value.style.lineWidth,"onUpdate:modelValue":o[16]||(o[16]=l=>x.value.style.lineWidth=l),size:"small"},null,8,["modelValue"])])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",pl,[(0,i._)("span",{innerHTML:x.value.style.lineWidth+"PX"},null,8,bl),fl])])),_:1},512),[[n.F8,!H.value]]),(0,i.Wm)(S,{placement:"bottom-end"},{dropdown:(0,i.w5)((()=>[(0,i.Wm)(_,{style:{width:"260px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Pl,{max:"1",step:"0.01",modelValue:x.value.style.globalAlpha,"onUpdate:modelValue":o[17]||(o[17]=l=>x.value.style.globalAlpha=l),size:"small"},null,8,["modelValue"])])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",vl,[(0,i._)("span",{innerHTML:parseInt(100*x.value.style.globalAlpha)+"%"},null,8,wl),_l])])),_:1})])])):(0,i.kq)("",!0),m.value?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",ml,[(0,i._)("span",{class:(0,r.C_)(["btn",{active:"selection"==p.value}]),onClick:o[18]||(o[18]=l=>(0,s.SU)(t).setWorkState("selection"))},gl,2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,s.SU)(b),((l,e)=>((0,i.wg)(),(0,i.iD)("span",{class:(0,r.C_)(["btn",{active:y.value==e}]),key:e,onClick:l=>zl(e),innerHTML:l},null,10,kl)))),128))])),(0,i._)("div",hl,[(0,i._)("span",Wl,"X:"+(0,r.zw)(k.x)+" Y:"+(0,r.zw)(k.y),1),(0,i._)("span",xl,(0,r.zw)(h.value)+"%",1),(0,i._)("span",Sl,(0,r.zw)(W.value),1),Ul]),(0,i._)("div",Cl,[(0,i._)("span",{class:"btn",onClick:o[19]||(o[19]=l=>(0,s.SU)(t).cooManager.changeScroll({scrollX:0,scrollY:0}))},Fl),(0,i._)("span",{class:(0,r.C_)(["btn",{active:"readonly"==p.value}]),onClick:o[20]||(o[20]=l=>(0,s.SU)(t).setWorkState(m.value?"selection":"readonly"))},Dl,2),(0,i._)("span",{class:"btn",onClick:o[21]||(o[21]=l=>(0,s.SU)(t).eleManager.deleteAllElements())},Ll),(0,i._)("span",{class:"btn",onClick:o[22]||(o[22]=l=>Tl()),ref_key:"fullScreenB",ref:g},Ml,512)])])])),_:1})],512)}}};const jl=(0,x.Z)(Ol,[["__scopeId","data-v-64add28d"]]);var Al=jl;const ql=(0,n.ri)(Al);ql.use(t.Z).mount("#app")}},e={};function a(n){var t=e[n];if(void 0!==t)return t.exports;var i=e[n]={exports:{}};return l[n].call(i.exports,i,i.exports,a),i.exports}a.m=l,function(){var l=[];a.O=function(e,n,t,i){if(!n){var s=1/0;for(c=0;c<l.length;c++){n=l[c][0],t=l[c][1],i=l[c][2];for(var r=!0,u=0;u<n.length;u++)(!1&i||s>=i)&&Object.keys(a.O).every((function(l){return a.O[l](n[u])}))?n.splice(u--,1):(r=!1,i<s&&(s=i));if(r){l.splice(c--,1);var o=t();void 0!==o&&(e=o)}}return e}i=i||0;for(var c=l.length;c>0&&l[c-1][2]>i;c--)l[c]=l[c-1];l[c]=[n,t,i]}}(),function(){a.d=function(l,e){for(var n in e)a.o(e,n)&&!a.o(l,n)&&Object.defineProperty(l,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(l){if("object"===typeof window)return window}}()}(),function(){a.o=function(l,e){return Object.prototype.hasOwnProperty.call(l,e)}}(),function(){a.p="/"}(),function(){var l={143:0};a.O.j=function(e){return 0===l[e]};var e=function(e,n){var t,i,s=n[0],r=n[1],u=n[2],o=0;if(s.some((function(e){return 0!==l[e]}))){for(t in r)a.o(r,t)&&(a.m[t]=r[t]);if(u)var c=u(a)}for(e&&e(n);o<s.length;o++)i=s[o],a.o(l,i)&&l[i]&&l[i][0](),l[i]=0;return a.O(c)},n=self["webpackChunkapp"]=self["webpackChunkapp"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(761)}));n=a.O(n)})();
//# sourceMappingURL=app.b1410810.js.map